tasks.register('slimJar', Jar) {
    archiveClassifier = "dev-slim"
    from sourceSets.main.output
}

obfuscation {
    reobfuscate(tasks.named('slimJar'), sourceSets.main) {
        archiveClassifier = "slim"
    }
}

tasks.register('sourcesJar', Jar) {
    from delombok.outputs.files
    dependsOn delombok
    archiveClassifier = "sources"
}

base {
    archivesName = "${mod_id}-${minecraft_version}"
}

afterEvaluate {
    tasks.withType(org.gradle.jvm.tasks.Jar).configureEach {
        manifest.attributes([
                'MixinConfigs': "${mod_id}.mixins.json",
                'Specification-Title': project.name,
                'Specification-Version': mod_version,
//                'Specification-Vendor': ,
                'Implementation-Title': base.archivesName,
                'Implementation-Version': version,
//                'Implementation-Vendor': ,
        ])
    }
}
